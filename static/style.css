*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
    --bg: #0f1117;
    --surface: #1a1d27;
    --border: #2a2d3a;
    --text: #e1e4ed;
    --text-dim: #8b8fa3;
    --primary: #6c5ce7;
    --primary-hover: #7c6cf7;
    --danger: #e74c3c;
    --success: #2ecc71;
    --success-hover: #4ade80;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.5;
}

nav {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    padding: 0.75rem 1.5rem;
    background: var(--surface);
    border-bottom: 1px solid var(--border);
}

.nav-brand { font-weight: 700; font-size: 1.2rem; }
.nav-links { display: flex; gap: 1rem; flex: 1; }
.nav-links a { color: var(--text-dim); text-decoration: none; }
.nav-links a:hover { color: var(--text); }
.nav-user { display: flex; align-items: center; gap: 0.75rem; color: var(--text-dim); font-size: 0.9rem; }

main { max-width: 960px; margin: 2rem auto; padding: 0 1rem; }

h2 { margin-bottom: 1rem; }

.page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }

.toggle { display: flex; align-items: center; gap: 0.5rem; cursor: pointer; color: var(--text-dim); font-size: 0.9rem; }

.media-table { width: 100%; border-collapse: collapse; }
.media-table th, .media-table td { padding: 0.6rem 0.75rem; text-align: left; border-bottom: 1px solid var(--border); }
.media-table th { color: var(--text-dim); font-weight: 600; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.05em; }
.media-table th a,
.media-table th a:link,
.media-table th a:visited,
.media-table th a:active {
    color: inherit;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
}
.media-table th a:hover { color: var(--text); }
.media-table th a:focus-visible {
    outline: 1px solid var(--primary);
    outline-offset: 2px;
    border-radius: 3px;
}
.media-table tbody tr:hover { background: rgba(108, 92, 231, 0.05); }
.empty { text-align: center; color: var(--text-dim); padding: 2rem !important; }
.series-group-row td {
    background: rgba(108, 92, 231, 0.08);
    border-top: 1px solid var(--border);
}
.series-group-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 0.75rem;
}
.series-group-actions {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}
.series-group-meta {
    color: var(--text-dim);
    font-size: 0.85rem;
}
.series-group-mark-all {
    white-space: nowrap;
    font-weight: 600;
}

.btn {
    display: inline-block;
    padding: 0.5rem 1rem;
    border: 1px solid var(--border);
    border-radius: 6px;
    background: var(--surface);
    color: var(--text);
    cursor: pointer;
    font-size: 0.9rem;
    text-decoration: none;
    transition: background 0.15s;
}
.btn:hover { background: var(--border); }

.btn-primary { background: var(--primary); border-color: var(--primary); color: #fff; }
.btn-primary:hover { background: var(--primary-hover); }
.btn-success { background: var(--success); border-color: var(--success); color: #fff; }
.btn-success:hover { background: var(--success-hover); }

.btn-danger { background: var(--danger); border-color: var(--danger); color: #fff; }
.btn-danger:hover { opacity: 0.9; }

.btn-outline { background: transparent; }
.btn-outline:hover { background: var(--surface); }

.btn-sm { padding: 0.25rem 0.6rem; font-size: 0.8rem; }
.btn-full { width: 100%; }
.btn-link { background: none; border: none; color: var(--text-dim); cursor: pointer; font-size: inherit; }
.btn-link:hover { color: var(--text); }
.row-actions {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    flex-wrap: wrap;
}
.pill {
    margin-left: 0.5rem;
    padding: 0.1rem 0.4rem;
    border: 1px solid var(--success);
    border-radius: 999px;
    color: var(--success);
    font-size: 0.72rem;
    text-transform: uppercase;
    letter-spacing: 0.04em;
}

/* Card grid */
.media-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 1rem; margin-bottom: 1.5rem; }
.media-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    overflow: hidden;
    transition: border-color 0.15s;
}
.media-card:hover { border-color: var(--primary); }
.media-card__poster {
    width: 100%;
    aspect-ratio: 2 / 3;
    object-fit: cover;
    display: block;
}
.media-card__placeholder {
    width: 100%;
    aspect-ratio: 2 / 3;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg);
    color: var(--text-dim);
}
.media-card__info { padding: 0.6rem; }
.media-card__title {
    font-weight: 600;
    font-size: 0.85rem;
    line-height: 1.3;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
.media-card__meta { color: var(--text-dim); font-size: 0.75rem; margin-top: 0.2rem; }
.media-card__marks { color: var(--text-dim); font-size: 0.75rem; margin-top: 0.2rem; }
.media-card__actions { margin-top: 0.4rem; display: flex; flex-wrap: wrap; gap: 0.3rem; }

/* Sort controls */
.sort-controls {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    margin-bottom: 1rem;
    color: var(--text-dim);
    font-size: 0.85rem;
}
.sort-controls a { color: var(--text-dim); text-decoration: none; }
.sort-controls a:hover { color: var(--text); }
.sort-controls a.active { color: var(--primary); font-weight: 600; }

/* Series group */
.series-group {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1rem;
}
.series-group .series-group-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
    flex-wrap: wrap;
}
.series-group__poster {
    width: 48px;
    height: 72px;
    object-fit: cover;
    border-radius: 4px;
    flex-shrink: 0;
}

/* Auth pages */
.auth-container { max-width: 400px; margin: 4rem auto; padding: 2rem; background: var(--surface); border-radius: 12px; border: 1px solid var(--border); }
.auth-container h1 { text-align: center; margin-bottom: 1.5rem; }

.form-group { margin-bottom: 1rem; }
.form-group label { display: block; margin-bottom: 0.3rem; color: var(--text-dim); font-size: 0.9rem; }
.form-group input {
    width: 100%;
    padding: 0.6rem;
    border: 1px solid var(--border);
    border-radius: 6px;
    background: var(--bg);
    color: var(--text);
    font-size: 1rem;
}
.form-group input:focus { outline: none; border-color: var(--primary); }

.inline-form { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; }
.inline-form input { flex: 1; padding: 0.5rem; border: 1px solid var(--border); border-radius: 6px; background: var(--bg); color: var(--text); font-size: 0.9rem; }

.alert { padding: 0.75rem 1rem; border-radius: 6px; margin-bottom: 1rem; font-size: 0.9rem; }
.alert-error { background: rgba(231, 76, 60, 0.15); border: 1px solid var(--danger); color: var(--danger); }
.alert-success { background: rgba(46, 204, 113, 0.15); border: 1px solid var(--success); color: var(--success); word-break: break-all; }

/* Admin */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; margin-bottom: 1.5rem; }
.stat-card { background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 1.25rem; text-align: center; }
.stat-value { font-size: 2rem; font-weight: 700; }
.stat-label { color: var(--text-dim); font-size: 0.85rem; margin-top: 0.25rem; }
.stat-detail { color: var(--text-dim); font-size: 0.8rem; }
.admin-actions { display: flex; gap: 0.5rem; flex-wrap: wrap; }

/* Toast */
#toast-container { position: fixed; top: 1rem; right: 1rem; z-index: 1000; display: flex; flex-direction: column; gap: 0.5rem; }
.toast { padding: 0.75rem 1rem; border-radius: 6px; font-size: 0.9rem; animation: fadeout 3s forwards; }
.toast-success { background: var(--success); color: #fff; }
.toast-error { background: var(--danger); color: #fff; }
@keyframes fadeout { 0%,70% { opacity: 1; } 100% { opacity: 0; display: none; } }

@media (max-width: 640px) {
    nav { flex-wrap: wrap; gap: 0.75rem; }
    .media-table { font-size: 0.85rem; }
    .media-table th, .media-table td { padding: 0.4rem 0.5rem; }
    .media-grid { grid-template-columns: repeat(2, 1fr); }
    .stats-grid { grid-template-columns: 1fr; }
}
@media (max-width: 400px) {
    .media-grid { grid-template-columns: 1fr; }
}
