{% extends "base.html" %}
{% block title %}Movies â€” Rewinder{% endblock %}
{% block body %}
{% include "partials/nav.html" %}
<main>
    <div class="page-header">
        <h2>Movies</h2>
        <label class="toggle">
            <input type="checkbox"
                   {% if show_marked %}checked{% endif %}
                   hx-get="/movies"
                   hx-target="main"
                   hx-select="main"
                   hx-swap="outerHTML"
                   hx-vals='js:{"show_marked": event.target.checked ? "true" : "false"}'
                   hx-push-url="true">
            Show marked
        </label>
    </div>
    <table class="media-table">
        <thead>
            <tr>
                <th>Title</th>
                <th>Year</th>
                <th>Size</th>
                {% if is_admin %}
                <th>Marked</th>
                {% endif %}
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            {% include "partials/media_row.html" %}
            {% endfor %}
            {% if items.len() == 0 %}
            <tr><td colspan="{% if is_admin %}5{% else %}4{% endif %}" class="empty">No movies found</td></tr>
            {% endif %}
        </tbody>
    </table>
</main>
{% endblock %}
